<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<style>
  :root{--bg-soft:#f8fafc;--border-soft:#e5e7eb;--text-muted:#64748b;--primary:#0ea5e9;--primary-dark:#0284c7}
  .card{border:1px solid var(--border-soft);border-radius:14px;box-shadow:0 8px 28px rgba(2,8,23,.08);overflow:hidden;background:#fff}
  .card-header{background:linear-gradient(180deg,#f8fafc,#ffffff);border-bottom:1px solid var(--border-soft);padding:16px 18px}
  .card-header h3{margin:0;font-weight:700;color:#0f172a}
  .card-body{padding:18px}
  .form-group label{font-weight:600;color:#374151;margin-bottom:6px;display:block}
  .form-control{border:1px solid var(--border-soft);border-radius:10px;box-shadow:none;height:42px}
  .form-control:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(14,165,233,.2)}
  textarea.form-control{height:auto}
  .select2-container{width:100% !important}
  .select2-container .select2-selection--single{height:42px;border-radius:10px;border:1px solid var(--border-soft)}
  .select2-container--default .select2-selection--single .select2-selection__rendered{line-height:42px;padding-left:12px}
  .select2-container--default .select2-selection--single .select2-selection__arrow{height:40px}
  .modal-footer{border-top:1px solid var(--border-soft);background:#fff;padding:14px}
  .btn{border-radius:10px}
  .btn-primary{background:var(--primary);border-color:var(--primary)}
  .btn-primary:hover{background:var(--primary-dark);border-color:var(--primary-dark)}
  .btn-secondary{background:#6b7280;border-color:#6b7280;color:#fff}
  .btn-secondary:hover{background:#4b5563;border-color:#4b5563;color:#fff}
</style>

<div class="card">
  <div class="card-header">
    <h3>Edit Surat Telaahan</h3>
  </div>

  <div class="card-body">
    <form action="{?=url([ADMIN, 'hosplan', 'updatesurattelaahan'])?}" method="post">
        <input type="hidden" name="id_surat" value="{$surattelaahan.id_surat}">

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="no_surat">Nomor Surat</label>
            <input id="no_surat" type="text" class="form-control" name="no_surat" value="{$surattelaahan.no_surat}" placeholder="Masukkan Nomor Surat" required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="tgl_surat">Tanggal Surat</label>
            <input id="tgl_surat" type="date" class="form-control" name="tgl_surat" value="{$surattelaahan.tgl_surat}" placeholder="Masukkan Tanggal Surat" required>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12 mb-3" style="margin-top: 12px;">
            <label for="perihal">Perihal Surat</label>
            <input id="perihal" type="text" class="form-control"  name="perihal" value="{$surattelaahan.perihal}" placeholder="Perihal Surat" required>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3" style="margin-top: 12px;">
            <label for="permasalahan">Permasalahan</label>
            <textarea id="permasalahan" class="form-control" name="permasalahan" rows="4" placeholder="Uraikan Permasalahan" required>{$surattelaahan.permasalahan}</textarea>
          </div>
          <div class="col-md-6 mb-3" style="margin-top: 12px;">
            <label for="pra_anggapan">Pra Anggapan</label>
            <textarea id="pra_anggapan" class="form-control" name="pra_anggapan" rows="4" placeholder="Pra Anggapan" required>{$surattelaahan.pra_anggapan}</textarea>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3" style="margin-top: 12px;">
            <label for="fakta">Fakta-Fakta</label>
            <textarea id="fakta" class="form-control" name="fakta" rows="4" placeholder="Fakta-Fakta" required>{$surattelaahan.fakta}</textarea>
          </div>
          <div class="col-md-6 mb-3" style="margin-top: 12px;">
            <label for="pembahasan">Pembahasan</label>
            <textarea id="pembahasan" class="form-control" name="pembahasan" rows="4" placeholder="Pembahasan" required>{$surattelaahan.pembahasan}</textarea>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3" style="margin-top: 12px;">
            <label for="saran_tindakan">Saran Tindakan</label>
            <textarea id="saran_tindakan" class="form-control" name="saran_tindakan" rows="4" placeholder="Saran Tindakan" required>{$surattelaahan.saran_tindakan}</textarea>
          </div>
          <div class="col-md-6 mb-3" style="margin-top: 12px;">
            <label for="penutup">Penutup</label>
            <textarea id="penutup" class="form-control" name="penutup" rows="4" placeholder="Penutup" required>{$surattelaahan.penutup}</textarea>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12 mb-3" style="margin-top: 12px;">
            <label for="id_unit">Unit</label>
            <select id="id_unit" class="form-control select2" name="id_unit" required>
              <option value="">Pilih Unit</option>
              {loop: $unit}
              <option value="{$value.id_unit}" {if: $value.id_unit == $surattelaahan.id_unit}selected{/if}>{$value.nama_unit}</option>
              {/loop}
            </select>
          </div>
        </div>

        <div class="modal-footer justify-content-between">
            <a href="{?=url([ADMIN, 'hosplan', 'surattelaahan'])?}" class="btn btn-secondary">Kembali</a>
            <button type="submit" class="btn btn-primary">Simpan</button>
        </div>

    </form>
  </div>
</div>

<script>
$(document).ready(function() {
  $('.select2').select2({
    placeholder: "Pilih Unit",
    width: '100%',
    allowClear: true
  });
});
</script>
